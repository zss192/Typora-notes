# 计算机网络体系结构

## 知识点

1.计算机网络：是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统

2.计算机网络的组成

- 物理组成上看可分为硬件、软件、协议(可理解为一种规则)。
- 工作方式上看可分为**边缘部分**(由主机组成)和**核心部分**(由网络和路由器组成,为边缘部分提供服务)。
- 逻辑功能上看可分为通信子网(数据传输和通信)和资源子网(终端、资源和服务)。
  - 通信子网包括物理层、数据链路层和网络层。

3.计算机网络的功能

- **数据通信**(最基本和最重要的功能)
  - 包括流量控制、路由选择、传输控制
- 资源共享：可共享硬件、软件、数据
- 分布式处理：多个主机各自承担同一任务的不同部分，如Hadoop
- 信息综合处理：将分散的数据集中处理或分级处理
- 负载均衡：将工作任务均衡的分配给网络中各计算机
- 提高可靠性：网络中个计算机可通过网络互为替换机

4.计算机网络的分类

![image-20201207083410816](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201207083410816.png)

其中按范围划分

| 局域网 | 几千米内如学校 |
| ------ | -------------- |
| 城域网 | 一个城市       |
| 广域网 | 一个国家或大洲 |

5.计算机网络为什么要采用分层结构：各层之间相互独立、灵活性好、易于实现和标准化。

> 助记：一个公司如果非常大肯定要分部门工作，但要只有两三个人就没必要细分了。

6.协议：一种规则用来控制**两个对等**(同一层)实体通信。

- 语义：规定格式
- 语法：规定功能
- 同步：规定执行顺序

7.接口：**上层使用下层**服务的入口即服务访问点(SAP)（类似于程序里的接口）

8.服务：下层为相邻上层提供的功能调用。(协议是水平的而服务是垂直的)

> 助记：肯定是你为领导服务

- 面向连接的服务和面向无连接的服务
  - 连接：通信前先建立连接比较可靠如TCP；无连接：不连接直接发速度快但可能丢包如UDP
- 可靠服务(数据一定准确送达)和不可靠服务(尽力而为)
- 有应答服务(收到数据后给发送方说下)和无应答服务（了解）

9.下一层对上一层提供的服务对上一层透明

> 透明：打游戏你负责玩就行，你不用知道这游戏是咋实现的

10.OSI七层结构

![image-20201207091242863](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201207091242863.png)

![image-20201207172709968](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201207172709968.png)

![image-20201207172709969](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/4039680_1523328974264_E4E1F3318AF5F32719A15808E8D8458B)

> 表示层和会话层不是重点，大致浏览即可。

11.OSI5层结构总结

|              | 应用层                                 | 传输层                                                  | 网络层                                                       | 数据链路层                                              | 物理层                       |
| ------------ | -------------------------------------- | ------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------- | ---------------------------- |
|              | 用户对用户(端到端)                     | 应用对应用；进程对进程(**端到端**)                      | 主机对主机(点到点)                                           | 点到点                                                  | 点到点                       |
| 传输单位     | ——                                     | 报文段(TCP)或用户数据报(UDP)                            | 数据报                                                       | 帧                                                      | 比特                         |
| 所实现的硬件 | ——                                     | ——                                                      | 路由器                                                       | 交换机、网桥                                            | 集线器、中继器               |
| 任务         | 提供系统与用户的接口(如QQ)             | 负责主机中两个进程之间的通信                            | 1.将传输层传来的报文段封装成分组;2.选择适当的路由使分组能够交付到目的主机 | 将网络层传来的IP数据报组装成帧                          | 透明的传输比特流             |
| 功能         | 1.文件传输;2.访问和管理;3.电子邮件服务 | 1.可靠传输、不可靠传输;2.流量控制;3.差错控制;4.复用分用 | 1.路由选择;2.流量控制;3.差错控制;4.拥塞控制                  | 1.成帧(定义开始和结束);2.差错控制;3.流量控制;4.访问控制 | 为数据端设备提供传送数据通路 |
| 协议         | FTP、SMTP、POP3、HTTP                  | TCP、UDP、ARQ                                           | ICMP、ARP、RARP、IP、IGMP                                    | PPP、HDLC                                               | ——                           |

12.OSI参考模型和TCP/IP模型对比

| OSI参考模型                   | TCP/IP模型                                       |
| ----------------------------- | ------------------------------------------------ |
| 3个主要概念：服务、接口、类型 | 没有明确区分服务、接口、类型                     |
| 产生在协议发明之前            | 产生在协议发明之后                               |
| 共有7层                       | 一定是4层(一般教材为了更好的讲解才按5层模型讲解) |
| 网络层：连接和无连接          | 网络层：仅有无连接                               |
| 传输层：仅有面向连接          | 传输层：面向连接和无连接                         |

13.计算机网络性能指标

- 带宽：网络设备可支持的最高速度(b/s)
- 时延：数据从一端传到另一端所需要的时间
  - 发送时延(传输时延)：从**发送数据**第一位到最后一位发送完毕所需时间
    - 发送时延 = 数据帧长度(bit)  /  发送速率(bit/s)
  - 传播时延：电磁波在**信道中传播**一定距离所需时间
    - 传播时延 = 信道长度(m)  /  电磁波在信道上的传播速度(m/s)
  - 排队时延：在输入和输出队列中**排队等待处理**所需时间
  - 处理时延：主机或路由器收到分组进行处理所需时间
  - 总时延 = 发送时延+传播时延+排队时延+处理时延
- 时延带宽积：又称以比特为单位的链路长度即某段链路现有多少比特(容量)
  - 时延带宽积(bit) = 传播时延(s) x 带宽(bit/s)
- 往返时延(RTT)：数据发送后来回跑一趟的时间
  - 往返时延 = 2x传播时延+末端处理时间
- 信道利用率 = 有数据通过时间  /  (有+无)数据通过时间
- 网络利用率：信道利用率加权平均值

## 习题

1.下列选项中，不属于网络体系结构所描述的内容是（C）

A.网络的层次	B.每一层使用的协议	C.协议的内部实现细节	D.每一层必须完成的功能

答：层次、协议、完成的功能教材均有提及，内部细节这是工作人员去实现就行

2.下列属于通信子网的是（A）

I.网桥	II.交换机	III.计算机软件	IV.路由器

A. I、II、IV		B. II、III、IV	......

答：通信子网是负责通信的而且只包括物理层、数据链路层、网络层。计算机软件显然不是用于通信的工具也不在那三层里面，它属于资源子网。

3.局域网和广域网之间的差异是（D）

A.所使用的传输介质不同		B.所覆盖的范围不同

C.所使用的协议不同		D.B和C

答：我们都知道他俩范围肯定不一样。至于协议不同是因为广域网范围更广，信号可靠度不高就要采取一系列差错控制、流量控制等手段，而局域网信道质量较好主要实现信道复用和提高速度就行。传输介质可能都是光纤。

4.下列说法错误的是（C）

I.广播式网络一般只包含3层，即物理层、数据链路层和网络层
II. Internet 的核心协议是TCP/IP
III.在Internet中，网络层的服务访问点是端口号

A. I、II、III	B. III	C. I、III	D. I、II

答：广播式网络谁都发不存在路由选择的问题，所以没有网络层

网络层的服务访问点是IP地址，传输层的服务访问点才是端口号

