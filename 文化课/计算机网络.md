# 计算机网络体系结构

## 知识点

1.计算机网络：是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统

2.计算机网络的组成

- 物理组成上看可分为硬件、软件、协议(可理解为一种规则)。
- 工作方式上看可分为**边缘部分**(由主机组成)和**核心部分**(由网络和路由器组成,为边缘部分提供服务)。
- 逻辑功能上看可分为通信子网(数据传输和通信)和资源子网(终端、资源和服务)。
  - 通信子网包括物理层、数据链路层和网络层。

3.计算机网络的功能

- **数据通信**(最基本和最重要的功能)
  - 包括流量控制、路由选择、传输控制
- 资源共享：可共享硬件、软件、数据
- 分布式处理：多个主机各自承担同一任务的不同部分，如Hadoop
- 信息综合处理：将分散的数据集中处理或分级处理
- 负载均衡：将工作任务均衡的分配给网络中各计算机
- 提高可靠性：网络中个计算机可通过网络互为替换机

4.计算机网络的分类

![image-20201207083410816](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201207083410816.png)

其中按范围划分

| 局域网 | 几千米内如学校 |
| ------ | -------------- |
| 城域网 | 一个城市       |
| 广域网 | 一个国家或大洲 |

5.计算机网络为什么要采用分层结构：各层之间相互独立、灵活性好、易于实现和标准化。

> 助记：一个公司如果非常大肯定要分部门工作，但要只有两三个人就没必要细分了。

6.协议：一种规则用来控制**两个对等**(同一层)实体通信。

- 语义：规定格式
- 语法：规定功能
- 同步：规定执行顺序

7.接口：**上层使用下层**服务的入口即服务访问点(SAP)（类似于程序里的接口）

8.服务：下层为相邻上层提供的功能调用。(协议是水平的而服务是垂直的)

> 助记：肯定是你为领导服务

- 面向连接的服务和面向无连接的服务
  - 连接：通信前先建立连接比较可靠如TCP；无连接：不连接直接发速度快但可能丢包如UDP
- 可靠服务(数据一定准确送达)和不可靠服务(尽力而为)
- 有应答服务(收到数据后给发送方说下)和无应答服务（了解）

9.下一层对上一层提供的服务对上一层透明

> 透明：打游戏你负责玩就行，你不用知道这游戏是咋实现的

10.OSI七层结构

![image-20201207091242863](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201207091242863.png)

![image-20201207172709968](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201207172709968.png)

![image-20201207172709969](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/4039680_1523328974264_E4E1F3318AF5F32719A15808E8D8458B)

11.OSI5层结构总结

|              | 应用层                                 | 传输层                                                  | 网络层                                                       | 数据链路层                                              | 物理层                       |
| ------------ | -------------------------------------- | ------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------- | ---------------------------- |
|              | 用户对用户(端到端)                     | 应用对应用；进程对进程(**端到端**)                      | 主机对主机(点到点)                                           | 点到点                                                  | 点到点                       |
| 传输单位     | ——                                     | 报文段(TCP)或用户数据报(UDP)                            | IP数据报                                                     | 帧                                                      | 比特                         |
| 所实现的硬件 | ——                                     | ——                                                      | 路由器                                                       | 交换机、网桥                                            | 集线器、中继器               |
| 任务         | 提供系统与用户的接口(如QQ)             | 负责主机中两个进程之间的通信                            | 1.将传输层传来的报文段封装成分组;2.选择适当的路由使分组能够交付到目的主机 | 将网络层传来的IP数据报组装成帧                          | 透明的传输比特流             |
| 功能         | 1.文件传输;2.访问和管理;3.电子邮件服务 | 1.可靠传输、不可靠传输;2.流量控制;3.差错控制;4.复用分用 | 1.路由选择;2.流量控制;3.差错控制;4.拥塞控制                  | 1.成帧(定义开始和结束);2.差错控制;3.流量控制;4.访问控制 | 为数据端设备提供传送数据通路 |
| 协议         | FTP、SMTP、POP3、HTTP                  | TCP、UDP、ARQ                                           | ICMP、ARP、RARP、IP、IGMP                                    | PPP、HDLC                                               | ——                           |

12.OSI参考模型和TCP/IP模型对比

| OSI参考模型                   | TCP/IP模型                                       |
| ----------------------------- | ------------------------------------------------ |
| 3个主要概念：服务、接口、类型 | 没有明确区分服务、接口、类型                     |
| 产生在协议发明之前            | 产生在协议发明之后                               |
| 共有7层                       | 一定是4层(一般教材为了更好的讲解才按5层模型讲解) |
| 网络层：连接和无连接          | 网络层：仅有无连接                               |
| 传输层：仅有面向连接          | 传输层：面向连接和无连接                         |

13.计算机网络性能指标

- 带宽：网络设备可支持的最高速度(b/s)
- 时延：数据从一端传到另一端所需要的时间
  - 发送时延(传输时延)：从**发送数据**第一位到最后一位发送完毕所需时间
    - 发送时延 = 数据帧长度(bit)  /  发送速率(bit/s)
  - 传播时延：电磁波在**信道中传播**一定距离所需时间
    - 传播时延 = 信道长度(m)  /  电磁波在信道上的传播速度(m/s)
  - 排队时延：在输入和输出队列中**排队等待处理**所需时间
  - 处理时延：主机或路由器收到分组进行处理所需时间
  - 总时延 = 发送时延+传播时延+排队时延+处理时延
- 时延带宽积：又称以比特为单位的链路长度即某段链路现有多少比特(容量)
  - 时延带宽积(bit) = 传播时延(s) x 带宽(bit/s)
- 往返时延(RTT)：数据发送后来回跑一趟的时间
  - 往返时延 = 2x传播时延+末端处理时间
- 信道利用率 = 有数据通过时间  /  (有+无)数据通过时间
- 网络利用率：信道利用率加权平均值

## 习题

1.下列选项中，不属于网络体系结构所描述的内容是（C）

A.网络的层次	B.每一层使用的协议	C.协议的内部实现细节	D.每一层必须完成的功能

答：层次、协议、完成的功能教材均有提及，内部细节这是工作人员去实现就行

2.下列属于通信子网的是（A）

I.网桥	II.交换机	III.计算机软件	IV.路由器

A. I、II、IV		B. II、III、IV	......

答：通信子网是负责通信的而且只包括物理层、数据链路层、网络层。计算机软件显然不是用于通信的工具也不在那三层里面，它属于资源子网。

3.局域网和广域网之间的差异是（D）

A.所使用的传输介质不同		B.所覆盖的范围不同

C.所使用的协议不同		D.B和C

答：我们都知道他俩范围肯定不一样。至于协议不同是因为广域网范围更广，信号可靠度不高就要采取一系列差错控制、流量控制等手段，而局域网信道质量较好主要实现信道复用和提高速度就行。传输介质可能都是光纤。

4.下列说法错误的是（C）

I.广播式网络一般只包含3层，即物理层、数据链路层和网络层
II. Internet 的核心协议是TCP/IP
III.在Internet中，网络层的服务访问点是端口号

A. I、II、III	B. III	C. I、III	D. I、II

答：广播式网络谁都发不存在路由选择的问题，所以没有网络层

网络层的服务访问点是IP地址，传输层的服务访问点才是端口号

5.在n个节点的星型拓扑结构中，有（A）条物理链路

A.n-1	B.n	C.nx(n-1)	D.nx(n+1)/2

答：星型拓扑是中间一个点与外边一圈的点相连，所以是n-1

而在型拓扑结构中是n条链路

6.在TCP/IP体系结构中，**直接**为ICMP提供服务的协议是（B）

A．PPP	B．IP	C．UDP	D．TCP

答：网际控制报文协议ICMP是TCP/IP体系结构网络层中的一个协议，ICMP报文需要使用IP协议封装为IP数据报，因此可以认为直接为ICMP提供服务的协议是IP协议。

PPP协议在TCP/IP体系结构中属于最底层协议，也就是网络接口层协议；在OSI体系中属于数据链路层协议，所以PPP协议为网络层提供服务，但并不能认为PPP直接为ICMP提供服务。

UDP和TCP都属于传输层协议，它们为应用层提供服务。

> 本题关键字在于“直接“，一般协议都是为上一层提供服务

7.在OSI参考模型中，下列功能需由应用层的相邻层实现的是（B）

A．对话管理			B．数据格式转换

C．路由选择			D．可靠数据传输

答：应用层的相邻层是表示层。表示层的任务主要是数据字符集的转换、数据格式化、文本压缩、数据加密以及解密等工作。

选项A中的**对话**管理，是**会话**层实现的功能；

选项C中的路由选择，是网络层实现的功能；

选项D中的可靠数据传输，是传输层实现的功能。

8.在下列情况下，计算传送1000KB文件所需的总时间，即从开始传送时起知道文件的最后以为到达目的地为止的时间。假设往返时间RTT为100ms，一个分组是1KB（即1024B）的数据，在开始传送整个文件数据之前进行的起始握手过程需要2RTT的时间。

（1）带宽是1.5Mb/s，数据分组可连续发送
（2）带宽是1.5Mb/s，但在发送完每一个数据分组之后，必须等待一个RTT，才能发送下一个数据分组
（3）假设带宽无限大，即发送时间为0，但是在等待每个RTT后可以发送多达20个分组

答：(1)：总时延 = 发送时延 + 传播时延 + 握手时延

发送时延 = 1000KB/1.5Mb/s = 5.46s	（注意单位换算）

> 1.5Mb/s=1.5x10^6^b/s=(1.5x10^6^/8)B/s=(1.5x10^6^/8/1024)KB/s

传播时延 = RTT/2=100ms/2 = 50ms
握手时延 = 2*RTT=200ms

总时延=5.46s+0.05s+0.2s=5.71s

> 发送时延可想象成豌豆射手吐完所有豌豆所需时间
>
> 传播时延是这些吐出来的豌豆去打僵尸的路上所花的时间

(2)：发送完一个分组等一个RTT，总共有1000个分组在(1)的基础上加上999RTT即可(发第1000个分组后就发完了不用再等了)。

总时延=5.71s+999x0.1s=105.61s

(3)：总时延 = 发送时延 + 传播时延 + 等待时延 + 握手时延

①发送时延本题为0，而握手时延为固定值2RTT

一共1000分组，一次能发20分组，需要发50次

②等待时延：从发第二次到第五十次发送前都要等一个RTT即49RTT

③传播时延：第一次发后数据需要0.5RTT才能到达目的地，但与此同时这0.5RTT时间内第二次发送也在等待一个RTT。

由于我们已经计算过等待时延，所以不用额外加上这些传播时延。

而第五十次发送后由于是最后一次发送所以需要加上0.5RTT的传播时延。

> t=0：第一次发送，t=0.5RTT第一次发送的数据到达目的地，t=1RTT，第二次发送数据，......t=49RTT，第五十次发送，t=49.5RTT，第五十次发送的数据到达目的地

所以总时延=2RTT+49RTT+0.5RTT=51.5RTT=5.15s

# 物理层

## 知识点

1.物理层解决如何在各种传输媒体传输数据比特流，而不是指具体的传输媒体。(记住每个层都没有实体就ok)\

2.物理层主要任务：确定与传输媒体接口有关的一些特性(定义标准)

- 机械特性：规定所采用的规格、接口形状、引脚数量等情况
- 电气特性：规定传输过程中的电压范围、传输速率、距离限制等
  - 如+10V ~ +15V 表示二进制数据 0 ，电线长度在15m以内
- 功能特性：描述 电平 的意义 , 接口部件 信号线用途
  - 如一个接口的引脚处于高电平的含义
- 过程特性(规程特性)：规定各个物理线路工作规程 , 时序关系 

3.基带传输对应数字信号(0和1用电压表示)，宽带传输对应模拟信号(连续变化的)

![image-20201212190029799](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201212190029799.png)

4.数据传输方式

- 串行传输：一个比特一个比特的传输（远距离常用）
- 并行传输：多个比特通过多个信道同时传输（近距离常用）

通信方式

- 同步通信：发送端和接收端的时钟频率相等(单位为帧)（技术复杂，效率高，贵）
- 异步通信：发送端发完一个发送单位即字节后，可过任意时间发下一个（价格低）

> 同步传输的帧头和帧尾占很少一部分可近似认为传输效率为100%，而异步传输每8bit就要加一个起始位和终止位，传输效率位80%，可得同步效率比异步效率要高

通信模式

- 单工：只有一个方向的通信，需一条信道（如广播）
- 半双工：双方都可以发或接，但不能同时发和接，需两条信道（如对讲机）
- 全双工：双方可同时发和接，需两条信道（如打电话）

5.码元：用一个固定时长的信号波形代表不同的离散数值的基本波形，而1码元可携带多个比特的信息

> 如二进制有两种码元即0和1，而4进制则有00、01、10、11四中码元

6.速率：即传输速率，有两种描述形式

- 波特率：也称码元速率，表示每秒可传输多少个码元，单位为波特(B)
- 比特率：也称信息传输速率，表示每秒可传输多少个比特，单位为比特每秒(b/s)

> 关系：若一个码元携带2bit信息，则3B波特率对应比特率为3x2 bit/s

7.带宽：单位时间内所能通过的最高数据率，单位比特每秒(bit/s)（数字信号中）

> 可理解为大马路有多宽

模拟信号中的带宽表示允许通过的最高频率减最低频率

8.奈氏准则：理想低通(**无噪声**、带宽受限)条件下，为了避免码间串扰(码元之间失去清晰界限)存在一个极限数据传输率
$$
Cmax=2*W*log2N (bit/s)
$$


> 其中W为带宽HZ，N为几种码元或每个码元的离散电平的数目
>
> 奈氏准则只给出了码元传输速率的限制并没有给出信息传输速率的限制
>
> f~采样~≥2f~信号最高频率~，而f~采样~=2*W

9.信号越强，噪声的影响就越小，因此只考虑其中一方是没有意义的，所以求信噪比才有意义

> 其中S为信号的平均功率，N为噪声的平均功率

$$
信噪比(dB)=10*log10(S/N) (dB)
$$

10.香农定理：在宽带受限且**有噪声**的信道中，为了不产生误差，信息的传输速率有上限值

> 其中W为带宽(Hz)，S/N需要由信噪比推出

$$
Cmax=W*log2(1+S/N) (bit/s)
$$

通过公式我们可知道

- 信道中宽带或信噪比越大，信息的极限传输速率越高
- 对于一定的带宽和信噪比，信息的传输速率上限就确定了
- 只要信息的传输速率低于极限传输速率，就一定能找到某种方法实现无差错的传输
- 实际信道的传输速率要比极限速率低不少

11.奈氏准则指出了码元传输的速率是受限的(内忧)，而香农定理给出了信息传输速率的极限(外患)

![image-20201212201158273](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201212201158273.png)

12.数据------------>数字信号		（编码）

数据------------>模拟信号		     （调制）

13.数字数据编码为数字信号

![image-20201213141647340](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213141647340.png)

- 非归零编码(NRZ)：低电平为0，高电平为1，但无法判断码元的开始和结束，双方难以同步
- 翻转不归零编码(NRZI)：电平遇0翻转，遇1不变
- 曼彻斯特编码：每个码元内前高后低为1，前低后高为0，所占频带宽度是原始基带宽度的两倍(以太网用这个)
- 差分曼彻斯特编码：前半个部分的电平与上一个码元的后半部分电平相同时为1，抗干扰强

> 后两个都是用每个码元的中间跳变作为收发双发的同步信号

14.数字数据调制为模拟信号

![image-20201213141917786](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213141917786.png)

15.模拟数据编码为数字信号：抽样、量化、编码

16.模拟数据调制为模拟信号：为了实现传输的有效性，有时需要较高的频率

17.数据传输(交换)方式

![image-20201213142711040](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213142711040.png)

- 电路交换：双方需建立一条被双方独占的物理通路
  - 优点：通信时延小、实时性强、有序传输、适用范围广、控制简单、避免冲突
  - 缺点：建立连接时间长、通信利用率低、缺乏统一标准、灵活性差
  - 适用于传输数据量大且传送时间远大于呼叫时间
- 报文交换：无需建立专有线路，传输单位为报文，采用存储转发方式
  - 优点：无需建立连接、动态分配线路、提高可靠性、提高线路利用率、提供多目标服务
  - 缺点：存储转发会产生时延、只适用数字信号、报文大小没限制需节点有较大存储缓存空间
- 分组交换：仍采用存储转发但一个长报文分割成若干分组即限制所传输单位长度
  - 优点：加速传输、简化存储管理、减少出错概率和重发数据量
  - 缺点：仍存在存储转发时延、若采用数据报服务要进行编号排序若采用虚电路需有呼叫连接等过程
  - 适用于端到端的通路由很多段的链路组成

> 从信道利用率看，报文和分组交换优于电路交换，分组交换时延小，尤其适用于突发式的数据通信

18.分组交换可采用的两种方式

![image-20201213175034810](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213175034810.png)

19.无连接和连接服务

无连接服务：不事先为分组的传输确定传输路径,每个分组独立确定传输路径,不同分组传输路径可能不同。

连接服务：首先为分组的传输确定传输路径(建立连接)，然后沿该路径(连接)传输系列分组,系列分组传输路径相同,传输结束后拆除连接。

20.传输介质：数据传输系统中双方之间的物理通路，在物理层下面，可称为0层。

- 导向性传输介质：沿着实实在在的线传播

  - 双绞线：由两根采用一定规则并排绞合的、相互绝缘的铜导线组成。价格便宜较常用。

    ![image-20201213180150736](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213180150736.png)

  - 同轴电缆：由于外导体屏蔽层，其比双绞线抗干扰性能好，价格贵

  ![image-20201213180705742](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213180705742.png)

  - 光纤：由纤芯(实心)和包层组成
    - **误码率低**，带宽大
    - 抗雷电和电磁干扰性能较好、不易被窃听和截取数据、体积小重量轻
    - 单模光纤衰减小适合远距离传输，多模光纤易失真适合近距离传输

- 非导向型传输介质：在自由空间中传播，如水、空气等

21.物理层设备

- 中继器：对数字信号进行再生和还原，对衰减的信号(传输过程会衰减到一定程度会失真)放大，以增加信号传输的距离。
- 集线器(Hub)：可理解为多口中继器，对信号进行再生放大转发，会转发到除输入端口外的所有工作端口，是一个共享式设备。

![image-20201213182206346](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201213182206346.png)

22.宽带和带宽的关系：如100M的宽带(名词)指这条宽带的带宽(量词指传输速率)为100Mbps,传输速率为12.5MB/s

## 习题

1.在无噪声的情况下,若某通信链路的带宽为3kHz,采用4个相位,每个相位具有4种振幅的QAM调制技术,则该通信链路的最大数据传输率是多少?

答：题目中说无噪声所以用奈氏准则求解

4个相位,每个相位具有4种振幅所以有16种状态即N=16

C~max~=2\*3k\*log~2~16=24kb/s（注意公式中带宽的单位为HZ）

> 也可以理解为带宽为3kHZ，则采样频率为6kHZ即每秒采样6k次，16种状态，则每个码元携带4bit信息，C~max~=每秒采样次数*每码元携带信息

2.电话系统的典型参数是信道带宽为3000Hz,信噪比为30dB,则该系统的最大数据传输率为（C）
A. 3kbit/s		B. 6kbit/s		C. 30kbit/s		D. 64kbit/s

答：电话系统的信道是有噪声的信道，所以用香农定理求解

香农公式用到了S/N，而我们已知了信噪比，先求S/N

10log~10~(S/N)=30，所以S/N=1000

C~max~ = 3000\*log~2~(1+S/N) = 3000\*log~2~(1+1000) ≈ 30kbit/s

> 注意S/N并不是信噪比，一般题目都是给信噪比我们要先求S/N

3.调制解调技术主要使用在（A）通信方式中。
A.模拟信道传输数字数据		B.模拟信道传输模拟数据
C.数字信道传输数字数据		D.数字信道传输模拟数据

答：调制就是将基带数字信号的频谱变换为适合在模拟信道中传输的频谱(比如数字数据调制为模拟信号)，解调正好与之相反(还原成数字数据)。

所以，调制解调技术用于模拟信道传输数字数据通信方式，而模拟信道传输模拟数据不需要调制解调技术

4.一个传输数字信号的模拟信道的信号功率是0.62W,噪声功率是0.02W,频率范围为3.5~39MHz,该信道的最高数据传输速率是（B）
A. IMbit/s		B. 2Mbit/s		C. 4Mbit/s		D. 8Mbit/s

答：信噪比S/N=0.62/0.02=31，带宽W=3.9MHZ-3.5MHZ=0.4MHZ

W*log2(1+S/N)=0.4MHZ\*log2(1+31)=2Mbit/s

> 注意信噪比和带宽的含义

5.为了使模拟信号传输得更远,可以采用的设备是（B）
A.中继器		B.放大器		C.交换机		D.路由器

答：要想传的远就要进行放大，而放大信号是物理设备应执行的功能，所以交换机(数据链路层)和路由器(网络层)都可以排除。

中继器和放大器都可以放大 信号，但中继器放大的是数字信号而放大器才能放大模拟信号。

6.因特网上的数据交换方式是（C）
A.电路交换	B.报文交换	C.分组交换	D.光交换

答：电路交换主要用于电话网，报文交换用于早期电报网，因特网使用的是分组交换。

> 助记：打电话按分钟(双方独享线路)计费，手机上网按流量(分组)计费

7.![image-20201214112513935](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201214112513935.png)

答：①每个分组大小为1000B，而分组头为20B，则每个分组数据部分为980B。所以980 000B应该被分为1000个分组，每个分组1000B，则一共传送1000 000B信息

> 特别注意类似于分组的头部，**头部**信息都是**后来加上去的**，相当于拿出来数据的一部分给它加个头部成一个分组。所以肯定不是980 000/1000得到980个分组的错误值

②链路传输速率100Mbit/s即100/8=12.5MB/s（1B=8bit）

③H1发完所有分组需要1000 000B / 12.5MB/s=80ms

此时刚好最后一个分组刚从H1发出去，最快是从上面直线过经过两次存储转发到达H2，用时2\*1000B/12.5MB/s=0.16ms

> 类似于流水线那种
>
> ![image-20201214114120084](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201214114120084.png)

综上，总用时为80ms+0.16ms=80.16ms

8.波特率和比特率之间的转换![image-20201214121555601](https://cdn.jsdelivr.net/gh/zss192/Typora-notes@master/images/image-20201214121555601.png)

答：从图中可以看出有十六种状态，需要用log~2~16=4bit来表示这16种状态，2400Baud即每秒传2400码元，一个码元有4bit，则比特率为2400*4=9600bit/s

9.10Base-T指的是（B）

B.10Mbit/s，使用数字信号，使用双绞线

答：10表示每秒传10Mbit，Base(基础--->基带)表示基带传输即数字信号，T(Twisted-pair)表示用的是双绞线

10.下列关于单模光纤的描述中,正确的是（D）
A.单模光纤的成本比多模光纤的成本低
B.单模光纤传输距离比多模光纤短
C.光在单模光纤中通过内部反射来传播
D.单模光纤的直径一般比多模光纤小

答：单模在荒郊野外用传的远(贵)，多模在学校用传的近(便宜)

多模才用到内部反射，单模可理解为一条直线，而多模需要在通道内来回反射的传播所以多模直径更大

11.主机甲通过1个路由器(存储转发方式)与主机乙互联，两段链路的数据传输速率均为10Mbps，主机甲分别采用报文交换和分组大小为10kb的分组交换向主机乙发送1个大小为8Mb(1M=10^6^)的报文。若忽略链路传播延迟、分组头开销和分组拆装时间，则两种交换方式完成该报文传输所需的总时间分别为 (D)

A．800ms、1600ms 	B．801ms、1600ms 

C．1600ms、800ms 	D．1600ms、801ms

答：①当采用报文交换时，只需考虑两次发送时延，一次在主机甲，一次时在路由器，而每次的发送时延都为8Mbit/10Mbit/s=800ms，所以共需1600ms

②当采用分组交换时，每个分组为10kbit，发送时延为10kbit/10Mbit/s=1ms,共800个分组。

主机甲发送完所有分组需要800ms,发的最后一个还需经历一个路由器的存储转发所以再加上1ms，即最终结果为800ms+1ms=801ms

> 也可以理解为第一个分组需要两个发送时延，以后每一个发送时延都会有1个分组到达主机乙，即2ms+(800-1)*1ms=801ms
>
> 原理都是流水线，就看怎么理解了，怕出错可以手画一下

12.下列因素中，不会影响信道数据传输速率的是 （D）

A.信噪比	B.频率宽带	C.调制速率	D.信号传播速度

答：由香农定理得知信噪比和频率宽带都会对数据传输速率产生影响。

信道的**传输速率其实就是发送速率**，所以调制速度也会影响数据传输速率。

信号传播速度是在信道传播的速度，和发送率无关。

> 发送时延也称为传输时延，而传输速率也指的是发送速率，不是在信道上传输的速率！
>
> 实际上带宽等也都是和发送速率有关，传播速率一般都是固定的(如在光纤上传播)，我们研究的基本都是发送速率。

# 数据链路层

## 知识点







## 习题



